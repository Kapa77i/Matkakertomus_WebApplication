@page "/trips/add"

@using System.Net.Http
@using System.Net.Http.Json
@using System.Threading.Tasks

@inject NavigationManager NavigationManager
@inject ILogger<Index> Logger
@inject HttpClient Http
@inject SharedLib.LoginState loginState;

<h3>Lisää matka</h3>

<a href="/trips">Omat matkat</a>
@if (loginState.isLoggedIn) {
    /*Matkojen lisäysformi (ota huomioon yksityinen/julkinen sekä mahdollinen ryhmämatka?*/


}

@code {
    bool isSubmitting;
    SharedLib.matkaDTO newtrip = new SharedLib.matkaDTO();

    async Task PostTrips(){

        var result = await Http.PostAsJsonAsync($"api/Matkas", newtrip);

        //Ohjataanko postaamisen jälkeen omalle matkasivulle?
        NavigationManager.NavigateTo($"/trips");
    }
}
